<!DOCTYPE html>
<html lang="zh-cmn-Hans" prefix="og: http://ogp.me/ns#" class="han-init">
<head><meta name="generator" content="Hexo 3.9.0">
  <meta charset="utf-8">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

  <link rel="icon" href="/favicon.ico">
  
  <title>鱿鱼由于有雨忧郁 | js原理进阶</title>
  <link rel="stylesheet" href="/css/style.css">
  <link rel="stylesheet" href="/lib/fancybox/jquery.fancybox-1.3.4.css">
  <!--在这里倒入jquery 方便处理部分页面的jquery-->
  <script src="https://cdn.staticfile.org/jquery/1.7/jquery.min.js" type="text/javascript"></script>
</head></html>

<body>
	<header class="site-header navfixed-false">
  <div class="container">
      <h1><a href="/" title="鱿鱼由于有雨忧郁"><span class="octicon octicon-mark-github"></span> 鱿鱼由于有雨忧郁</a></h1>
      <nav class="site-header-nav" role="navigation">
        
              
              <a href="/"  class=" site-header-nav-item hvr-underline-from-center" title="首页">首页</a>
        
              
              <a href="/categories/"  class=" site-header-nav-item hvr-underline-from-center" title="分类">分类</a>
        
              
              <a href="/open-source/"  class=" site-header-nav-item hvr-underline-from-center" title="开源项目">开源项目</a>
        
      </nav>
  </div>
</header>

	
<section class="collection-head geopattern lll" data-pattern-id="js原理进阶" >
    <div class="container">
        <div class="collection-title">
            <h1 class="collection-header">
                js原理进阶
            </h1>
            
                <div class="collection-info">
                    <span class="meta-info">
                        <span class="octicon octicon-calendar"></span>
                        <time datetime="2014-08-02T01:38:24.000Z" itemprop="datePublished">2014-08-02</time>
                    </span>
                    
                        <span class="meta-info">
                            <span class="octicon octicon-file-directory"></span>
                            <a href='/categories/js基础/' title=''>js基础</a>
                        </span>
                    
                </div>
            
        </div>
    </div>
</section>
	<section class="container">
    <div class="columns">
        <div class="column three-fourths" >
            <article class="article-content markdown-body">
                <h3 id="面向对象"><a href="#面向对象" class="headerlink" title="面向对象"></a>面向对象</h3><h4 id="封装，Prototype模式"><a href="#封装，Prototype模式" class="headerlink" title="封装，Prototype模式"></a>封装，Prototype模式</h4><p>Javascript规定，每一个构造函数都有一个<strong>prototype属性</strong>，指向另一个对象。这个对象的所有属性和方法，都会被构造函数的实例继承。这意味着，我们可以把那些不变的属性和方法，直接定义在prototype对象上。<br><a id="more"></a></p>
<pre><code class="javascript">function Cat(name,color){
    this.name = name;
    this.color = color;
}
Cat.prototype.type = &quot;猫科动物&quot;;
Cat.prototype.eat = function(){alert(&quot;吃老鼠&quot;)};
</code></pre>
<h4 id="Prototype模式的验证方法"><a href="#Prototype模式的验证方法" class="headerlink" title="Prototype模式的验证方法"></a>Prototype模式的验证方法</h4><p>isPrototypeOf()方法用来判断某个proptotype对象和某个实例之间的关系。  </p>
<pre><code class="javascript">alert(Cat.prototype.isPrototypeOf(cat1)); //true
alert(Cat.prototype.isPrototypeOf(cat2)); //true
</code></pre>
<p>hasOwnProperty()方法，用来判断某一个属性到底是本地属性，还是继承自prototype对象的属性。  </p>
<pre><code class="javascript">alert(cat1.hasOwnProperty(&quot;name&quot;)); // true
alert(cat1.hasOwnProperty(&quot;type&quot;)); // false
</code></pre>
<h4 id="构造函数的继承"><a href="#构造函数的继承" class="headerlink" title="构造函数的继承"></a>构造函数的继承</h4><blockquote>
<p>使用call或apply方法</p>
</blockquote>
<p>构造函数绑定，使用call或apply方法，将父对象的构造函数绑定在子对象上，即在子对象构造函数中加一行  </p>
<pre><code class="javascript">function Animal() {　　　　
    this.species = &quot;动物&quot;;　　
}

function Cat(name, color) {　　　　
    Animal.apply(this);　
    this.name = name;　　　　
    this.color = color;　　
}　　
var cat1 = new Cat(&quot;大毛&quot;, &quot;黄色&quot;);　　
alert(cat1.species); // 动物
</code></pre>
<blockquote>
<p>prototype模式</p>
</blockquote>
<pre><code class="javascript">function Animal() {　　　　
    this.species = &quot;动物&quot;;　　
}

function Cat(name, color) {　　　　
    this.name = name;　　　　
    this.color = color;　　
}　　
Cat.prototype = new Animal();//将Cat的prototype属性指向Animal
Cat.prototype.constructor = Cat;//上一步操作的同时，也将Cat的constructor属性指向了Animal，为了维护正确的继承回朔链，我们再次用这个方法将Cat的构造函数找回来
var cat1 = new Cat(&quot;大毛&quot;,&quot;黄色&quot;);
alert(cat1.species); // 动物
</code></pre>
<blockquote>
<p>直接继承prototype</p>
</blockquote>
<pre><code class="javascript">function Animal(){ }//将Animal对象改写为空对象
Animal.prototype.species = &quot;动物&quot;;

function Cat(name, color) {　　　　
    this.name = name;　　　　
    this.color = color;　　
}　　
Cat.prototype = Animal.prototype;//将Cat的prototype对象，然后指向Animal的prototype对象，这样就完成了继承
Cat.prototype.constructor = Cat;
var cat1 = new Cat(&quot;大毛&quot;,&quot;黄色&quot;);
alert(cat1.species); // 动物
</code></pre>
<h4 id="非构造函数的继承"><a href="#非构造函数的继承" class="headerlink" title="非构造函数的继承"></a>非构造函数的继承</h4><blockquote>
<p>object()方法继承</p>
</blockquote>
<p>什么是”非构造函数”的继承？<br>比如，现在有一个对象，叫做”中国人”。  </p>
<pre><code class="javascript">var Chinese = {
    nation:&#39;中国&#39;
};
</code></pre>
<p>还有一个对象，叫做”医生”。  </p>
<pre><code class="javascript">var Doctor ={
    career:&#39;医生&#39;
}
</code></pre>
<p>请问怎样才能让”医生”去继承”中国人”，也就是说，我怎样才能生成一个”中国医生”的对象？<br>这里要注意，这两个对象都是普通对象，不是构造函数，无法使用构造函数方法实现”继承”。  </p>
<pre><code class="javascript">var Chinese = {　　　　
    nation: &#39;中国&#39;　　
};
var Doctor = {　　　　
    career: &#39;医生&#39;　　
}

function object(o) {　　　　
    function F() {}　　　　
    F.prototype = o;　　　　
    return new F();
}

var Doctor = object(Chinese);　//使用的时候，第一步先在父对象的基础上，生成子对象： 　
Doctor.career = &#39;医生&#39;;//然后，再加上子对象本身的属性：
alert(Doctor.nation); //这时，子对象已经继承了父对象的属性了。
</code></pre>
<p>这个object()函数，其实只做一件事，就是把子对象的prototype属性，指向父对象，从而使得子对象与父对象连在一起。   </p>
<blockquote>
<p>拷贝继承</p>
</blockquote>
<pre><code class="javascript">function deepCopy(p, c) {　　　　
    var c = c || {};　　　　
    for (var i in p) {　　　　　　
        if (typeof p[i] === &#39;object&#39;) {　　　　　　　　
            c[i] = (p[i].constructor === Array) ? [] : {};　　　　　　　　
            deepCopy(p[i], c[i]);　　　　　　
        } else {　　　　　　　　　
            c[i] = p[i];　　　　　　
        }　　　　
    }　　　　
    return c;　　
}
</code></pre>
<p>使用的时候这样写：  </p>
<pre><code class="javascript">var Doctor = deepCopy(Chinese);
</code></pre>
<p>现在，给父对象加一个属性，值为数组。然后，在子对象上修改这个属性：  </p>
<pre><code class="javascript">Chinese.birthPlaces = [&#39;北京&#39;,&#39;上海&#39;,&#39;香港&#39;];
Doctor.birthPlaces.push(&#39;厦门&#39;);
</code></pre>
<p>这时，父对象就不会受到影响了。  </p>
<pre><code class="javascript">alert(Doctor.birthPlaces); //北京, 上海, 香港, 厦门
alert(Chinese.birthPlaces); //北京, 上海, 香港
</code></pre>
<h3 id="undefined与null的区别"><a href="#undefined与null的区别" class="headerlink" title="undefined与null的区别"></a>undefined与null的区别</h3><p>目前，null和undefined基本是同义的，只有一些细微的差别。<br>null表示”没有对象”，即该处不应该有值。典型用法是：<br>（1） 作为函数的参数，表示该函数的参数不是对象。<br>（2） 作为对象原型链的终点。  </p>
<pre><code class="javascript">
Object.getPrototypeOf(Object.prototype)// null
</code></pre>
<p>undefined表示”缺少值”，就是此处应该有一个值，但是还没有定义。典型用法是：<br>（1）变量被声明了，但没有赋值时，就等于undefined。<br>（2) 调用函数时，应该提供的参数没有提供，该参数等于undefined。<br>（3）对象没有赋值的属性，该属性的值为undefined。<br>（4）函数没有返回值时，默认返回undefined。  </p>
<pre><code class="javascript">var i;
i // undefined
function f(x){console.log(x)}
f() // undefined
var  o = new Object();
o.p // undefined
var x = f();
x // undefined
</code></pre>

            </article>
            
                <div class="share">
                    <!--开启分享-->
<div class="share-component" data-disabled="google,twitter,facebook" data-description="面向对象封装，Prototype模式Javascrip..."></div>

<script src="/js/share.min.js"></script>

                </div>    
            

            
            
                
                    
<div class="comments">
	<div class="ds-thread" data-thread-key="js原理进阶" data-title="js原理进阶" data-url="http://blog.letzgo.ink/2014/08/02/js原理进阶/"></div>
	<script type="text/javascript">
	var duoshuoQuery = {short_name:"yumemor"};
		(function() {
			var ds = document.createElement('script');
			ds.type = 'text/javascript';ds.async = true;
			ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
			ds.charset = 'UTF-8';
			(document.getElementsByTagName('head')[0]
			 || document.getElementsByTagName('body')[0]).appendChild(ds);
		})();
	</script>
</div>

                
            

        </div>
        <div class="column one-fourth">
            
                
                


<h3>Post Directory</h3>

<div id="post-directory-module">
	<section class="post-directory">
		<p><strong class="toc-title">文章目录</strong></p>
		<ol class="toc"><li class="toc-item toc-level-3"><a class="toc-link" href="#面向对象"><span class="toc-text">面向对象</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#封装，Prototype模式"><span class="toc-text">封装，Prototype模式</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Prototype模式的验证方法"><span class="toc-text">Prototype模式的验证方法</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#构造函数的继承"><span class="toc-text">构造函数的继承</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#非构造函数的继承"><span class="toc-text">非构造函数的继承</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#undefined与null的区别"><span class="toc-text">undefined与null的区别</span></a></li></ol>
	</section>
</div>
            
        </div>
    </div>
</section>

<footer class="container">
    <div class="site-footer" role="contentinfo">
        <div class="copyright left mobile-block">
                © 2016
                <span title="yumemor">wushain</span>
                <a href="javascript:window.scrollTo(0,0)" class="right mobile-visible">TOP</a>
        </div>

        <ul class="site-footer-links right mobile-hidden">
            <li>
                <a href="javascript:window.scrollTo(0,0)" >TOP</a>
            </li>
        </ul>

        <a href="https://github.com/zx1988826" target="_blank" aria-label="view source code">
            <span class="mega-octicon octicon-mark-github" title="GitHub"></span>
        </a>

        <ul class="site-footer-links mobile-hidden">
            
                  
                  <li>
                    <a href="/"  title="首页">首页</a>
                  </li>
            
                  
                  <li>
                    <a href="/categories/"  title="分类">分类</a>
                  </li>
            
                  
                  <li>
                    <a href="/open-source/"  title="开源项目">开源项目</a>
                  </li>
            
            <li>
                <a href="/atom.xml">
                    <span class="octicon octicon-rss" style="color:orange;"></span>
                </a>
            </li>
        </ul>
    </div>
</footer>

		<script src="/js/geopattern.js"></script>
		<script src="/js/highlight.pack.js"></script>
		<script src="/lib/fancybox/jquery.fancybox-1.3.4.pack.js"></script>

		
			<script src="/js/toc.js"></script>
		

		
			<script src="/js/search.js"></script>

			<script type="text/javascript">
				$(function(){
					var currentIndex = -1;
					var search_path = "search.xml";
					if (!search_path) search_path = "search.xml";
					var path = "/" + search_path;
					searchFunc(path, 'search', 'local-search-result');

					$(document).delegate("#local-search-result>.search-result-list li","hover",function(){
						var liNode = $("#local-search-result>.search-result-list li");
						liNode.removeClass("hover");
						currentIndex = $("#local-search-result>.search-result-list li").index($(this));
						liNode.eq(currentIndex).addClass("hover");
					})

					$("#search-form").submit(function(){
						return false;
					})

					$("#search").keydown(function(event){
						var keyCode = event.keyCode;
						var liNode = $("#local-search-result>.search-result-list li");
						if(keyCode == 38 || keyCode == 40 || keyCode == 13){
							liNode.removeClass("hover");
							if(keyCode == 38){
								if(currentIndex - 1 >= 0) currentIndex --;
							}
							if(keyCode == 40){
								if(currentIndex + 1 < liNode.length) currentIndex ++;
							}
							if(keyCode == 13){
								location.href = liNode.eq(currentIndex).find("a").attr("href");
							}
							liNode.eq(currentIndex).addClass("hover");
							return false;
						}else{
							currentIndex = -1;
						}
					})
				})
			</script>
		

		<script src="/js/index.js"></script>

		 <script src="/js/popular_repo.js"></script> 

	</body>
</html>